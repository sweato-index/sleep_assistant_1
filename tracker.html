<!doctype html>
<html class="no-js" lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>睡眠记录与分析 - 睡眠管理系统</title>
    <meta name="description" content="记录和分析您的睡眠数据，了解睡眠质量">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">
    <link href="assets/css/fullcalendar.css" rel="stylesheet">
    <link href="assets/css/tracker.css" rel="stylesheet">

    <!-- CSS here -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/flat-icon/flaticon.css">
    <link rel="stylesheet" href="assets/css/meanmenu.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/aos.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/default.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link href="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.10/main.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.10/main.min.css" rel="stylesheet">
    
    <style>
        /* 日历容器 */
        #calendar {
            background: #c0b4f8a1;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        /* 图表容器 */
        .chart-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        
        /* 自定义事件颜色 */
        .fc-event-excellent { background: #00C853 !important; border-color: #00C853 !important; }  /* 优秀-绿色 */
        .fc-event-good     { background: #64DD17 !important; border-color: #64DD17 !important; }  /* 良好-浅绿 */
        .fc-event-average  { background: #FFD600 !important; border-color: #FFD600 !important; }  /* 一般-黄色 */
        .fc-event-poor     { background: #FF6D00 !important; border-color: #FF6D00 !important; }  /* 较差-橙色 */
        .fc-event-critical { background: #D50000 !important; border-color: #D50000 !important; }  /* 极差-红色 */
        </style>

</head>
<body>
    <!-- preloader -->
    <div id="loading">
        <div id="loading-center">
            <div id="loading-center-absolute">
                <div class="object" id="object_one"></div>
                <div class="object" id="object_two"></div>
                <div class="object" id="object_three"></div>
                <div class="object" id="object_four"></div>
            </div>
        </div>
    </div>
    <!-- preloader end -->
    <!-- ============= header-area-start ==================== -->
    <header class="header-transfrent">
        <div class="header-area">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-xl-1 col-lg-1">
                        <div class="logo-area">
                            <a href="index.html"><img src="assets/img/logo.png" alt=""></a>
                        </div>
                    </div>
                    <div class="col-xl-8 col-lg-8">
                        <div class="main-menu">
                            <nav id="mobile-menu">
                                <ul>
                                    <li><a href="index.html">首页</a></li>
                                    <li><a href="science.html">知识中心</a></li>
                                    <li><a href="tracker.html">睡眠记录</a></li>
                                    <li><a href="assessment.html">睡眠评分</a></li>
                                    <li><a href="advice.html">睡眠助手</a></li>
                                    <li class="dropdown">
                                        <a href="community.html">交流社区 <i class="fas fa-chevron-down"></i></a>
                                        <ul class="dropdown-menu">
                                            <li><a href="#forum">论坛</a></li>
                                            <li><a href="#groups">群组</a></li>
                                            <li><a href="#qna">专家问答</a></li>
                                            <li><a href="#diary">睡眠日记</a></li>
                                            <li><a href="#challenges">挑战活动</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                        <div class="mobile-menu"></div>
                    </div>
                            <div class="col-xl-3 col-lg-3 d-none d-lg-block">
                            <div class="header-user-profile f-right">
                                <div class="user-avatar">
                                    <img src="assets/img/author-1.png" alt="用户头像">
                                </div>
                                <ul class="dropdown-menu">
                                    <li><a href="#signinModal" data-toggle="modal">登录</a></li>
                                    <li><a href="#signupModal" data-toggle="modal">注册</a></li>
                                    <li><a href="profile.html">用户中心</a></li>
                                </ul>
                            </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- ============= header-area-end ====================== -->

    <!-- ============== main-content-start ============== -->
    <div class="main-content">
    <div class="container">
        <h1 class="mb-4">睡眠记录与分析</h1>
        
        <!-- 第一行：日历和快速记录 -->
        <div class="row mb-4">
            <div class="col-md-8">
                <div id="calendar"></div>
            </div>
            <div class="col-md-4">
                <div class="chart-card">
                    <h5>快速记录</h5>
                    <form id="quickRecordForm">
                        <div class="mb-3">
                            <label class="form-label">选择日期</label>
                            <input type="date" class="form-control" id="recordDate" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">睡眠时长（小时）</label>
                            <input type="number" step="0.1" class="form-control" id="sleepHours" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">睡眠质量</label>
                            <select class="form-select" id="sleepQuality" required>
                                <option value="5">😄 优秀 (90-100分)</option>
                                <option value="4">😊 良好 (75-89分)</option>
                                <option value="3">😐 一般 (60-74分)</option>
                                <option value="2">😕 较差 (40-59分)</option>
                                <option value="1">😞 极差 (0-39分)</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">保存记录</button>
                    </form>
                </div>
            </div>
        </div>
        <!-- 在页面底部添加数据详情模态框 -->
        <div class="modal fade" id="detailModal" tabindex="-1">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">睡眠详情 - <span id="detailDate"></span></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-6">
                                <div class="detail-item">
                                    <i class="fas fa-clock text-primary"></i>
                                    <div>
                                        <small>睡眠时长</small>
                                        <h4 id="detailHours">-</h4>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="detail-item">
                                    <i class="fas fa-star text-warning"></i>
                                    <div>
                                        <small>睡眠质量</small>
                                        <h4 id="detailQuality">-</h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <canvas id="dailyChart" class="mt-3"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <style>
        /* 详情项样式 */
        .detail-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .detail-item i {
            font-size: 1.8rem;
        }
        #dailyChart {
            max-height: 250px;
        }
        </style>
        <!-- 第二行：趋势图表 -->
        <div class="row">
            <div class="col-md-6">
                <div class="chart-card">
                    <h5>睡眠时长趋势</h5>
                    <canvas id="durationChart"></canvas>
                </div>
            </div>
            <div class="col-md-6">
                <div class="chart-card">
                    <h5>睡眠质量分布</h5>
                    <canvas id="qualityChart"></canvas>
                </div>
            </div>
        </div>
    </div>
</div>
    <!-- ============= main-content-end ================= -->

    <!-- JS here -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.meanmenu.js"></script>
    <script src="assets/js/slick.min.js"></script>
    <script src="assets/js/aos.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/isotope.pkgd.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/plugins.js"></script>
    <script src="assets/js/velocity.min.js"></script>
    <script src="assets/js/velocity.ui.min.js"></script>
    <script src="chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/core@6.1.10/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fullcalendar/daygrid@6.1.10/index.global.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="assets/js/sleep-tracker.js"></script>
    <script src="assets/js/main.js"></script>
    


</body>
</html>
