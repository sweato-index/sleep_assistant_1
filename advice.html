<!doctype html>
<html class="no-js" lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>ç¡çœ åŠ©æ‰‹ - ç¡çœ ç®¡ç†ç³»ç»Ÿ</title>
    <meta name="description" content="æ ¹æ®æ‚¨çš„ç¡çœ æ•°æ®æä¾›ä¸ªæ€§åŒ–æ”¹å–„å»ºè®®">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">

    <!-- CSS here -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/flat-icon/flaticon.css">
    <link rel="stylesheet" href="assets/css/meanmenu.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/aos.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/default.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/chat-assistant.css">
    <link rel="stylesheet" href="assets/css/hearder-area.css">
</head>
<body>
    <!-- preloader -->
    <div id="loading">
        <div id="loading-center">
            <div id="loading-center-absolute">
                <div class="object" id="object_one"></div>
                <div class="object" id="object_two"></div>
                <div class="object" id="object_three"></div>
                <div class="object" id="object_four"></div>
            </div>
        </div>
    </div>
    <!-- preloader end -->

    <!-- ============= header-area-start ==================== -->
        <!-- ============= header-area-start ==================== -->
        <header class="header-transfrent">
            <div class="header-area">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-xl-1 col-lg-1">
                            <div class="logo-area">
                                <a href="index.html"><img src="assets/img/logo.png" alt=""></a>
                            </div>
                        </div>
                        <div class="col-xl-8 col-lg-8">
                            <div class="main-menu">
                                <nav id="mobile-menu">
                                    <ul>
                                        <li><a href="index.html">é¦–é¡µ</a></li>
                                        <li><a href="science.html">çŸ¥è¯†ä¸­å¿ƒ</a></li>
                                        <li><a href="tracker.html">ç¡çœ è®°å½•</a></li>
                                        <li><a href="assessment.html">ç¡çœ è¯„åˆ†</a></li>
                                        <li><a href="advice.html">ç¡çœ åŠ©æ‰‹</a></li>
                                        <li class="dropdown">
                                            <a href="community.html">äº¤æµç¤¾åŒº <i class="fas fa-chevron-down"></i></a>
                                            <ul class="dropdown-menu">
                                                <li><a href="#forum">è®ºå›</a></li>
                                                <li><a href="#groups">ç¾¤ç»„</a></li>
                                                <li><a href="#qna">ä¸“å®¶é—®ç­”</a></li>
                                                <li><a href="#diary">ç¡çœ æ—¥è®°</a></li>
                                                <li><a href="#challenges">æŒ‘æˆ˜æ´»åŠ¨</a></li>
                                            </ul>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="mobile-menu"></div>
                        </div>
                                <div class="col-xl-3 col-lg-3 d-none d-lg-block">
                                <div class="header-user-profile f-right">
                                    <div class="user-avatar">
                                        <img src="assets/img/author-1.png" alt="ç”¨æˆ·å¤´åƒ">
                                    </div>
                                    <ul class="dropdown-menu">
                                        <li><a href="#signinModal" data-toggle="modal">ç™»å½•</a></li>
                                        <li><a href="#signupModal" data-toggle="modal">æ³¨å†Œ</a></li>
                                        <li><a href="profile.html">ç”¨æˆ·ä¸­å¿ƒ</a></li>
                                    </ul>
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
    <!-- ============= header-area-end ====================== -->

         <!-- ========== breadcrumbs-area-start ============== -->
     <div class="breadcrumbs-area text-center">
        <div class="breadcrumbs-wrapper pt-110 pb-110">
            <div class="mk-page-title">
                <h2>æ‚¨çš„ç¡çœ åŠ©æ‰‹</h2>
            </div>
            <nav class="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="index.html">é¦–é¡µ</a> <i class="flaticon-right-arrow-angle"></i></li>
                    <li class="breadcrumb-item active" aria-current="page">ç¡çœ åŠ©æ‰‹</li>
                </ol>
            </nav>

            
        </div>
    </div>
    <!-- ============== main-content-start ============== -->
    <div class="main-content">
        <div class="content-wrapper">
            
            
            <div class="row">
                <!-- ä»Šæ—¥ç¡çœ å»ºè®® - æ›´æ–°ä¸ºå¤é€‰æ¡†æ ·å¼ -->
                <div class="col-lg-5 mb-4">
                    <div class="module-card">
                        <h3>ä»Šæ—¥ç¡çœ å»ºè®®</h3>
                        <div class="advice-content">
                            <p class="advice-intro">æ ¹æ®æ‚¨çš„ç¡çœ è®°å½•ï¼Œå»ºè®®æ‚¨ï¼š</p>
                            <div id="checklist">
                                <input value="1" name="sleep-advice" type="checkbox" id="advice-01">
                                <label for="advice-01">åœ¨23:00å‰å…³é—­ç”µå­è®¾å¤‡</label>
                                
                                <input value="2" name="sleep-advice" type="checkbox" id="advice-02">
                                <label for="advice-02">ä¿æŒå§å®¤æ¸©åº¦åœ¨20-22â„ƒ</label>
                                
                                <input value="3" name="sleep-advice" type="checkbox" id="advice-03">
                                <label for="advice-03">å°è¯•è¿›è¡Œ5åˆ†é’Ÿçš„æ·±å‘¼å¸ç»ƒä¹ </label>
                                
                                <input value="4" name="sleep-advice" type="checkbox" id="advice-04">
                                <label for="advice-04">ç¡å‰1å°æ—¶é¿å…å‰§çƒˆè¿åŠ¨</label>
                                
                                <input value="5" name="sleep-advice" type="checkbox" id="advice-05">
                                <label for="advice-05">ç¡å‰é¥®ç”¨æ¸©çƒ­çš„æ— å’–å•¡å› é¥®å“</label>
                            </div>
                            <div class="action-buttons mt-4">
                                <button class="btn-soft me-3">å…¨éƒ¨åŠ å…¥è®¡åˆ’</button>
                                <button class="btn-soft btn-outline" id="markAllBtn">å…¨éƒ¨æ ‡è®°å®Œæˆ</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- åŠ©çœ éŸ³é¢‘æ’­æ”¾å™¨ - æ›´æ–°UI -->
                <div class="col-lg-7 mb-4">
                    <div class="module-card audio-module">
                        <div class="modern-player">
                            <div class="album-cover">
                                <img src="assets\img\forest1.avif" alt="æ£®æ—é›¨å£°">
                                <div class="play-overlay" id="playOverlay">
                                    <i class="fas fa-play"></i>
                                </div>
                            </div>
                            <div class="player-info">
                                <h4>æ£®æ—é›¨å£°</h4>
                                <p class="audio-description">è‡ªç„¶ç¯å¢ƒéŸ³ Â· 30åˆ†é’Ÿ</p>
                                
                                <!-- æ·»åŠ éšè—çš„éŸ³é¢‘å…ƒç´  -->
                                <audio id="audioPlayer" preload="metadata">
                                    <source src="assets/audio/forest-rain.mp3" type="audio/mp3">
                                    <source src="assets/audio/forest-rain.ogg" type="audio/ogg">
                                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘å…ƒç´ ã€‚
                                </audio>
                                
                                <div class="player-controls">
                                    <div class="progress-container">
                                        <div class="progress-bar" id="audioProgress"></div>
                                    </div>
                                    <div class="time-display">
                                        <span id="currentTime">00:00</span>
                                        
                                    </div>
                                    <div class="control-buttons">
                                        <button class="control-btn" id="prevBtn"><i class="fas fa-step-backward"></i></button>
                                        <button class="control-btn play-btn" id="playBtn"><i class="fas fa-play"></i></button>
                                        <button class="control-btn" id="nextBtn"><i class="fas fa-step-forward"></i></button>
                                        <button class="control-btn" id="favoriteBtn"><i class="far fa-heart"></i></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- å‘¼å¸è®­ç»ƒ -->
                <div class="col-lg-6 mb-4">
                    <div class="module-card">
                        <div class="breathing-exercise">
                            <h3 class="section-title">å‘¼å¸è®­ç»ƒ</h3>
                            <div class="breathing-animation">
                                <svg viewBox="0 0 100 100" class="breathing-circle" id="breathingCircle">
                                    <circle cx="50" cy="50" r="45"/>
                                    <text id="countdownText" x="50" y="52" text-anchor="middle" dominant-baseline="middle" font-size="24"></text>
                                </svg>
                                <div class="breathing-text" id="breathingText">å‡†å¤‡å¼€å§‹</div>
                            </div>
                            <div class="breathing-controls">
                                <button class="btn btn-primary" id="startBreathing"><i class="fas fa-play"></i> å¼€å§‹ç»ƒä¹ </button>
                                <button class="btn btn-secondary" id="stopBreathing" disabled><i class="fas fa-stop"></i> åœæ­¢</button>
                                <select class="form-control" id="breathingRounds">
                                    <option value="1">1 è½®</option>
                                    <option value="3" selected>3 è½®</option>
                                    <option value="5">5 è½®</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- å³ä¾§è§†é¢‘æ’­æ”¾å™¨ -->
                <div class="col-lg-6">
                    <div class="module-card" id="mood-module">
                        <div class="mood-module">
                            <div class="mood-icon">
                                <i class="fas fa-spa"></i>
                            </div>
                            <h3>ç¡å‰æ”¾æ¾ç»ƒä¹ </h3>
                            <p>é€šè¿‡è½»æŸ”çš„åŠ¨ä½œå’Œå†¥æƒ³å¼•å¯¼ï¼Œå¸®åŠ©æ‚¨æ”¾æ¾èº«å¿ƒ</p>
                            <a href="#" class="btn-soft" id="start-practice">å¼€å§‹ç»ƒä¹ </a>
                        </div>
                        <div class="video-player-container d-none" id="video-container">
                            <div class="video-wrapper">
                                <iframe 
                                    id="bilibiliVideo"
                                    src="https://player.bilibili.com/player.html?bvid=BV1fS4y117u7"
                                    scrolling="no"
                                    border="0"
                                    frameborder="no"
                                    allowfullscreen="true"
                                    style="width:100%;height:100%;position:absolute;top:0;left:0;">
                                </iframe>
                            </div>
                            <div class="video-info">
                                <h3>ç¡å‰æ”¾æ¾å†¥æƒ³</h3>
                                <p class="video-description">é€šè¿‡æ¸©å’Œçš„å¼•å¯¼å†¥æƒ³ï¼Œå¸®åŠ©æ‚¨æ”¾æ¾èº«å¿ƒï¼Œä¸ºç¾å¥½çš„ç¡çœ åšå‡†å¤‡ã€‚</p>
                            </div>
                        </div>
                    </div>
                </div>

 
 <script>
 document.addEventListener('DOMContentLoaded', function() {
     // è·å–éœ€è¦çš„å…ƒç´ 
     const startPracticeBtn = document.getElementById('start-practice');
     const moduleCard = document.getElementById('mood-module');
     
     // è·å–æ‰€æœ‰æ¨¡å—å¡ç‰‡ä»¥ä¾¿åŒæ­¥é«˜åº¦
     const allModuleCards = document.querySelectorAll('.module-card');
     
     // æ·»åŠ ç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨
     if(startPracticeBtn) {
         startPracticeBtn.addEventListener('click', function(e) {
             e.preventDefault(); // é˜»æ­¢é»˜è®¤çš„é“¾æ¥è¡Œä¸º
             
             // æ¸…ç©ºæ¨¡å—å¡ç‰‡å†…å®¹
             moduleCard.innerHTML = `
                 <div class="video-wrapper">
                     <iframe 
                         id="bilibiliVideo"
                         src="https://player.bilibili.com/player.html?bvid=BV1fS4y117u7"
                         scrolling="no"
                         border="0"
                         frameborder="no"
                         allowfullscreen="true"
                         style="width:100%;height:100%;position:absolute;top:0;left:0;">
                     </iframe>
                 </div>
                 <div class="video-info">
                     <h3>ç¡å‰æ”¾æ¾å†¥æƒ³</h3>
                     <p class="video-description">é€šè¿‡æ¸©å’Œçš„å¼•å¯¼å†¥æƒ³ï¼Œå¸®åŠ©æ‚¨æ”¾æ¾èº«å¿ƒï¼Œä¸ºç¾å¥½çš„ç¡çœ åšå‡†å¤‡ã€‚</p>
                 </div>
             `;
             
             // æ·»åŠ è§†é¢‘æ’­æ”¾å™¨æ ·å¼
             moduleCard.classList.add('video-player-active');
             
             // è°ƒæ•´å…¶ä»–æ¨¡å—å¡ç‰‡çš„é«˜åº¦ä»¥åŒ¹é…
             const newHeight = moduleCard.offsetHeight;
             allModuleCards.forEach(card => {
                 if(card !== moduleCard) {
                     card.style.height = newHeight + 'px';
                 }
             });
         });
     }
     
     // åˆå§‹åŒ–æ—¶ç¡®ä¿æ‰€æœ‰å¡ç‰‡é«˜åº¦ä¸€è‡´
     function equalizeCardHeights() {
         let maxHeight = 0;
         
         // æ‰¾å‡ºæœ€é«˜çš„å¡ç‰‡
         allModuleCards.forEach(card => {
             const height = card.offsetHeight;
             if(height > maxHeight) {
                 maxHeight = height;
             }
         });
         
         // è®¾ç½®æ‰€æœ‰å¡ç‰‡ä¸ºæœ€é«˜é«˜åº¦
         allModuleCards.forEach(card => {
             card.style.height = maxHeight + 'px';
         });
     }
     
     // é¡µé¢åŠ è½½å’Œçª—å£è°ƒæ•´æ—¶å¹³è¡¡é«˜åº¦
     equalizeCardHeights();
     window.addEventListener('resize', equalizeCardHeights);
 });
 </script>
            

            </div>
        </div>
    </div>

    <!-- Add new CSS -->
    <style>
    /* å…¨å±€èƒŒæ™¯è®¾ç½® */
    body {
        background: url('assets/img/forestbackground.jpg') no-repeat center center fixed;
        background-size: cover;
        min-height: 100vh;
        font-family: 'Noto Sans SC', sans-serif;
    }

    /* ä¸»å†…å®¹åŒºåŸŸæ ·å¼ */
    .main-content {
        padding: 40px 0;
        min-height: 100vh;
        background: rgba(57, 90, 92, 0.3);
        backdrop-filter: blur(10px);
    }

    /* å†…å®¹å®¹å™¨æ ·å¼ */
    .content-wrapper {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        max-width: 1200px;
        margin: 0 auto;
    }

    /* é¡¶éƒ¨å¯¼èˆªæ ·å¼ */
    .page-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 25px;
        background: rgba(255, 255, 255, 0.3);
        border-radius: 15px;
        margin-bottom: 30px;
    }

    .header-controls {
        display: flex;
        gap: 15px;
    }

    /* æ¨¡å—å¡ç‰‡é€šç”¨æ ·å¼ */
    .module-card {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        height: 100%;
        transition: transform 0.3s ease;
    }

    .module-card:hover {
        transform: translateY(-3px);
    }

    /* æ–°çš„éŸ³é¢‘æ’­æ”¾å™¨æ ·å¼ */
    .audio-module {
        padding: 0;
        overflow: hidden;
    }

    .modern-player {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .album-cover {
        position: relative;
        width: 100%;
        height: 200px;
        overflow: hidden;
    }

    .album-cover img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }

    .album-cover:hover img {
        transform: scale(1.05);
    }

    .play-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.3);
        display: flex;
        justify-content: center;
        align-items: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .play-overlay i {
        color: white;
        font-size: 50px;
        background: rgba(0, 0, 0, 0.5);
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .album-cover:hover .play-overlay {
        opacity: 1;
    }

    .player-info {
        padding: 20px;
    }

    .audio-description {
        color: #666;
        font-size: 14px;
        margin-bottom: 20px;
    }

    .player-controls {
        margin-top: 15px;
    }

    .progress-container {
        height: 4px;
        background: rgba(0, 0, 0, 0.1);
        border-radius: 2px;
        margin-bottom: 8px;
        cursor: pointer;
    }

    .progress-bar {
        height: 100%;
        width: 30%;
        background: linear-gradient(90deg, #A3C9D9, #6A8EAA);
        border-radius: 2px;
        position: relative;
    }

    .progress-bar::after {
        content: '';
        position: absolute;
        right: -4px;
        top: -3px;
        width: 10px;
        height: 10px;
        background: #6A8EAA;
        border-radius: 50%;
        display: none;
    }

    .progress-container:hover .progress-bar::after {
        display: block;
    }

    .time-display {
        display: flex;
        justify-content: flex-end;
        color: #666;
        font-size: 12px;
        margin-bottom: 15px;
    }

    .time-display span {
        margin: 0 2px;
    }

    .control-buttons {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .control-btn {
        background: none;
        border: none;
        color: #555;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .control-btn:hover {
        color: #A3C9D9;
        transform: scale(1.1);
    }

    .play-btn {
        width: 40px;
        height: 40px;
        background: #A3C9D9;
        color: white;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0 4px 10px rgba(163, 201, 217, 0.3);
    }

    .play-btn:hover {
        background: #8AB3C5;
        color: white;
    }

    /* å½“æ’­æ”¾çŠ¶æ€æ¿€æ´»æ—¶ */
    .playing .play-btn i {
        content: "\f04c"; /* æš‚åœå›¾æ ‡ */
    }

    /* å‘¼å¸è®­ç»ƒæ ·å¼æ›´æ–° */
    .breathing-exercise {
        text-align: center;
        padding: 30px;
    }

    .breathing-circle {
        width: 150px;
        height: 150px;
        margin: 0 auto;
    }
    /* åœ¨æ ·å¼éƒ¨åˆ†æ·»åŠ  */
    #countdownText {
        fill: #4f29f0;
        font-weight: bold;
        font-family: 'Arial', sans-serif;
        opacity: 0.8;
        animation: breathingEffect 4s infinite ease-in-out;
        transform-origin: center; /* ç¡®ä¿æ”¾å¤§æ—¶ä»¥ä¸­å¿ƒä¸ºåŸºç‚¹ */
    }

    @keyframes breathingEffect {
        0%, 100% {
            transform: scale(1);
            opacity: 0.8;
        }
        50% {
            transform: scale(1.5);
            opacity: 1;
        }
    }
    /* æƒ…ç»ªè°ƒèŠ‚æ¨¡å—æ ·å¼ */
    .mood-module {
        text-align: center;
        padding: 20px;
    }

    .mood-icon {
        font-size: 48px;
        color: #A3C9D9;
        margin-bottom: 15px;
    }

    /* æ–°å¢å¤é€‰æ¡†æ ·å¼ */
    #checklist {
        --background: transparent; /* ä¿®æ”¹ä¸ºé€æ˜èƒŒæ™¯é€‚åº”å¡ç‰‡ */
        --text: #414856;
        --check: #4f29f0;
        --disabled: #c3c8de;
        --width: 100%;
        --height: auto;
        --border-radius: 10px;
        background: var(--background);
        width: var(--width);
        height: var(--height);
        position: relative;
        padding: 20px 0;
        display: grid;
        grid-template-columns: 30px auto;
        align-items: center;
    }

    #checklist label {
        color: var(--text);
        position: relative;
        cursor: pointer;
        display: grid;
        align-items: center;
        width: fit-content;
        transition: color 0.3s ease;
        margin: 8px 20px 8px 0; /* å¢åŠ å‚ç›´é—´è· */
        font-size: 16px; /* è°ƒæ•´å­—ä½“å¤§å° */
    }

    #checklist label::before, #checklist label::after {
        content: "";
        position: absolute;
    }

    #checklist label::before {
        height: 2px;
        width: 8px;
        left: -27px;
        top: 50%; /* åˆå§‹å°±åœ¨ä¸­é—´ä½ç½® */
        background: var(--check);
        border-radius: 2px;
        transition: background 0.3s ease;
        transform: translateY(-50%); /* ç¡®ä¿ç²¾ç¡®å±…ä¸­ */
    }

    #checklist label:after {
        height: 4px;
        width: 4px;
        top: 8px;
        left: -25px;
        border-radius: 50%;
    }

    #checklist input[type="checkbox"] {
        -webkit-appearance: none;
        -moz-appearance: none;
        position: relative;
        height: 15px;
        width: 15px;
        outline: none;
        border: 0;
        margin: 0 15px 0 0;
        cursor: pointer;
        background: var(--background);
        display: grid;
        align-items: center;
        margin: 8px 20px 8px 0; /* åŒ¹é…labelçš„é—´è· */
    }

    #checklist input[type="checkbox"]::before, #checklist input[type="checkbox"]::after {
        content: "";
        position: absolute;
        height: 2px;
        top: auto;
        background: var(--check);
        border-radius: 2px;
    }

    #checklist input[type="checkbox"]::before {
        width: 0px;
        right: 60%;
        transform-origin: right bottom;
    }

    #checklist input[type="checkbox"]::after {
        width: 0px;
        left: 40%;
        transform-origin: left bottom;
    }

    #checklist input[type="checkbox"]:checked::before {
        animation: check-01 0.4s ease forwards;
    }

    #checklist input[type="checkbox"]:checked::after {
        animation: check-02 0.4s ease forwards;
    }

    #checklist input[type="checkbox"]:checked + label {
        color: var(--disabled);
        animation: move 0.3s ease 0.1s forwards;
    }

    #checklist input[type="checkbox"]:checked + label::before {
        background: var(--disabled);
        animation: slice 0.4s ease forwards;
    }

    #checklist input[type="checkbox"]:checked + label::after {
        animation: firework 0.5s ease forwards 0.1s;
    }

    @keyframes move {
        50% {
            padding-left: 8px;
            padding-right: 0px;
        }

        100% {
            padding-right: 4px;
        }
    }

    @keyframes slice {
        60% {
            width: 100%;
            left: 4px;
            top: 50%;
            transform: translateY(-50%);
        }

        100% {
            width: 100%;
            left: -2px;
            top: 50%;
            transform: translateY(-50%);
            padding-left: 0;
        }
    }

    @keyframes check-01 {
        0% {
            width: 4px;
            top: auto;
            transform: rotate(0);
        }

        50% {
            width: 0px;
            top: auto;
            transform: rotate(0);
        }

        51% {
            width: 0px;
            top: 8px;
            transform: rotate(45deg);
        }

        100% {
            width: 5px;
            top: 8px;
            transform: rotate(45deg);
        }
    }

    @keyframes check-02 {
        0% {
            width: 4px;
            top: auto;
            transform: rotate(0);
        }

        50% {
            width: 0px;
            top: auto;
            transform: rotate(0);
        }

        51% {
            width: 0px;
            top: 8px;
            transform: rotate(-45deg);
        }

        100% {
            width: 10px;
            top: 8px;
            transform: rotate(-45deg);
        }
    }

    @keyframes firework {
        0% {
            opacity: 1;
            box-shadow: 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0;
        }

        30% {
            opacity: 1;
        }

        100% {
            opacity: 0;
            box-shadow: 0 -15px 0 0px #4f29f0, 14px -8px 0 0px #4f29f0, 14px 8px 0 0px #4f29f0, 0 15px 0 0px #4f29f0, -14px 8px 0 0px #4f29f0, -14px -8px 0 0px #4f29f0;
        }
    }

    /* ä¼˜åŒ–æŒ‰é’®æ ·å¼ï¼ŒåŒ¹é…å¤é€‰æ¡†ä¸»é¢˜ */
    .btn-soft {
        background: #4f29f0;
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 20px;
        transition: all 0.3s ease;
        font-weight: 500;
    }

    .btn-soft:hover {
        background: #3a1eb0;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(79, 41, 240, 0.3);
    }

    .btn-soft.btn-outline {
        background: transparent;
        color: #4f29f0;
        border: 1px solid #4f29f0;
    }

    .btn-soft.btn-outline:hover {
        background: rgba(79, 41, 240, 0.1);
    }

    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 768px) {
        .content-wrapper {
            margin: 15px;
            padding: 15px;
        }
        
        .module-card {
            margin-bottom: 20px;
        }
    }

    /* å¢åŠ æç¤ºæ–‡å­—æ ·å¼ */
    .advice-intro {
        font-size: 18px;  /* å¢åŠ å­—ä½“å¤§å° */
        font-weight: 500; /* ç¨å¾®åŠ ç²— */
        margin-bottom: 16px; /* å¢åŠ ä¸‹æ–¹é—´è· */
        color: #333;     /* ç¡®ä¿æ–‡å­—é¢œè‰²è¶³å¤Ÿæ·± */
    }

    /* å¦‚æœéœ€è¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šè¿›ä¸€æ­¥è°ƒå¤§å­—ä½“ */
    @media (max-width: 768px) {
        .advice-intro {
            font-size: 20px;
        }
    }

    /* ä¿®å¤å‘¼å¸åœ†åœˆçš„åŠ¨ç”»æ ·å¼ */
    @keyframes breatheIn {
        from { transform: scale(1); }
        to { transform: scale(1.5); }
    }

    @keyframes holdBreath {
        from { transform: scale(1.5); }
        to { transform: scale(1.5); }
    }

    @keyframes breatheOut {
        from { transform: scale(1.5); }
        to { transform: scale(1); }
    }

    .breathing-circle {
        width: 150px;
        height: 150px;
        margin: 0 auto;
        display: block;
        transition: transform 0.3s ease;
    }

    .breathing-circle circle {
        fill: rgba(79, 41, 240, 0.1);
        stroke: #4f29f0;
        stroke-width: 2;
    }

    /* ç§»é™¤åŸæœ‰çš„ #countdownText åŠ¨ç”»ï¼Œé¿å…ä¸å€’è®¡æ—¶å†²çª */
    #countdownText {
        fill: #4f29f0;
        font-weight: bold;
        font-family: 'Arial', sans-serif;
        opacity: 0.9;
        font-size: 24px;
        /* ç§»é™¤å¹²æ‰°å€’è®¡æ—¶çš„åŠ¨ç”» */
        animation: none;
    }

    /* ä½¿ç”¨ transform å±æ€§æ›¿ä»£åŠ¨ç”»ä»¥ä¾¿æ›´ç²¾ç¡®æ§åˆ¶ */
    .breathing-circle.inhale {
        animation: none;
        transition: transform 4s ease;
        transform: scale(1.5);
    }

    .breathing-circle.hold {
        animation: none;
        transition: none;
        transform: scale(1.5);
    }

    .breathing-circle.exhale {
        animation: none;
        transition: transform 8s ease;
        transform: scale(1);
    }

    .breathing-text {
        text-align: center;
        margin-top: 15px;
        font-size: 18px;
        font-weight: 500;
        min-height: 24px;
        color: #4f29f0;
    }

    .breathing-animation {
        display: flex;
        flex-direction: column;
        align-items: center;
        margin: 20px 0;
    }

    .breathing-controls {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 20px;
    }

    /* ç¾åŒ–ç¡çœ åŠ©æ‰‹æ ‡é¢˜ - ç§»é™¤è£…é¥°æ€§ä¸‹åˆ’çº¿ */
    .main-title {
        font-family: 'Noto Sans SC', 'HarmonyOS Sans SC', sans-serif;
        font-size: 2.5rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        text-align: center;
        letter-spacing: 0.5px;
        background: linear-gradient(135deg, #1A2A40 0%, #4f29f0 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        text-fill-color: transparent;
        text-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    }

    @media (max-width: 768px) {
        .main-title {
            font-size: 2rem;
        }
    }

    /* ç¡çœ è®°å½•æŒ‰é’®æ ·å¼ */
    .sleep-record-btn {
        width: 4.5em;
        height: 2.5em;
        border-radius: 10px;
        cursor: pointer;
        position: relative;
        transition: all 0.3s;
    }

    .icon-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(79, 41, 240, 0.7);
        border-radius: 10px;
        transition: all 0.3s;
        border: 1px solid rgba(156, 156, 156, 0.466);
        color: white;
    }

    /* è‡ªå®šä¹‰ZZZå›¾æ ‡ï¼Œå› ä¸ºFont Awesomeæ²¡æœ‰ç›´æ¥æä¾› */
    .fa-zzz:before {
        content: "ZZZ";
        font-family: Arial, sans-serif;
        font-style: italic;
        font-weight: bold;
        font-size: 1rem;
    }

    .tooltip {
        position: absolute;
        top: 0;
        left: 0;
        width: auto; /* æ”¹ä¸ºè‡ªåŠ¨å®½åº¦ */
        white-space: nowrap; /* ç¡®ä¿æ–‡æœ¬ä¸æ¢è¡Œ */
        padding: 0.5em 1em;
        border-radius: 10px;
        background: white;
        color: #1A2A40;
        font-weight: 600;
        text-align: center;
        opacity: 0;
        transform: translateY(-130%);
        transition: all 0.3s;
        pointer-events: none;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        z-index: 10;
        left: 50%; /* æ°´å¹³å±…ä¸­ */
        transform: translate(-50%, -130%); /* æ°´å¹³å±…ä¸­å¹¶å‘ä¸Šåç§» */
    }

    .tooltip::after {
        content: "";
        position: absolute;
        height: 0.6em;
        width: 0.6em;
        bottom: -0.2em;
        left: 50%;
        transform: translate(-50%) rotate(45deg);
        background: white;
    }

    .sleep-record-btn:hover .tooltip {
        opacity: 1;
        transform: translate(-50%, -100%); /* æ°´å¹³å±…ä¸­å¹¶å‘ä¸Šåç§» */
    }

    .sleep-record-btn:hover .icon-container {
        background: rgba(79, 41, 240, 0.9);
    }

    /* ç‚¹å‡»æ•ˆæœ */
    .sleep-record-btn:active .icon-container {
        transform: scale(0.95);
    }

    /* å·²è®°å½•çŠ¶æ€ */
    .sleep-record-btn.recorded .icon-container {
        background: #28a745;
    }

    /* ç¡®ä¿é“¾æ¥æŒ‰é’®æ ·å¼ä¸æ™®é€šæŒ‰é’®ä¸€è‡´ */
    a.btn-soft {
        display: inline-block;
        text-decoration: none;
        text-align: center;
        padding: 8px 20px;
        border-radius: 20px;
        background: #4f29f0;
        color: white;
        font-weight: 500;
        transition: all 0.3s ease;
        cursor: pointer;
    }

    a.btn-soft:hover {
        background: #3a1eb0;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(79, 41, 240, 0.3);
        text-decoration: none;
        color: white;
    }

    a.btn-soft:active {
        transform: translateY(0);
    }
    

    /* è§†é¢‘æ’­æ”¾å™¨æ ·å¼ */
    .video-player-container {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        overflow: hidden;
        margin: 0 auto 20px;
        width: 100%;
        max-width: 1200px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .video-wrapper {
        position: relative;
        width: 100%;
        padding-top: 56.25%; /* 16:9 å®½é«˜æ¯” */
        background: #000;
    }

    .main-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .video-info {
        padding: 20px;
        background: rgba(255, 255, 255, 0.8);
        width: 100%;
    }

    .video-info h3 {
        color: #333;
        font-size: 1.5rem;
        margin-bottom: 10px;
        opacity: 0.9;
    }

    .video-description {
        color: #666;
        font-size: 0.9rem;
        line-height: 1.5;
        margin-bottom: 0;
        opacity: 0.8;
    }

    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 991px) {
        .video-player-container {
            margin-bottom: 30px;
        }
    }

    .module-card.video-player-active {
        height: 400px; /* è°ƒæ•´ä¸ºæ‚¨éœ€è¦çš„é«˜åº¦ */
        position: relative;
        overflow: hidden;
    }

    .video-wrapper {
        position: relative;
        width: 100%;
        height: 75%; /* è§†é¢‘å å®¹å™¨é«˜åº¦çš„æ¯”ä¾‹ */
        overflow: hidden;
    }

    .video-info {
        padding: 15px;
    }

    
    </style>

    <!-- JS here -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.meanmenu.js"></script>
    <script src="assets/js/slick.min.js"></script>
    <script src="assets/js/aos.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/isotope.pkgd.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/plugins.js"></script>
    <script src="assets/js/velocity.min.js"></script>
    <script src="assets/js/velocity.ui.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const playBtn = document.getElementById('playBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const favoriteBtn = document.getElementById('favoriteBtn');
        const playOverlay = document.getElementById('playOverlay');
        const progressBar = document.getElementById('audioProgress');
        const currentTimeEl = document.getElementById('currentTime');
        const totalTimeEl = document.getElementById('totalTime');
        const countdownText = document.getElementById('countdownText');
        const audioPlayer = document.getElementById('audioPlayer');
        
        let isPlaying = false;
        
        // éŸ³é¢‘æ’­æ”¾åˆ—è¡¨
        const playlist = [
            {
                title: "æ£®æ—é›¨å£°",
                source: "assets/audio/æ£®æ—é›¨å£°.mp3",
                duration: "30:00",
                cover: "assets/img/music/forest1.avif",
                description: "è‡ªç„¶ç¯å¢ƒéŸ³ Â· 30åˆ†é’Ÿ"
            },
            {
                title: "å¹³é™æµ·æµª",
                source: "assets/audio/å¹³é™æµ·æµª.mp3", 
                duration: "25:00",
                cover: "assets/img/music/sea.jpg",
                description: "æµ·æ´‹ç¯å¢ƒéŸ³ Â· 25åˆ†é’Ÿ"
            },
            {
                title: "å†¥æƒ³éŸ³ä¹",
                source: "assets/audio/å†¥æƒ³éŸ³ä¹.mp3",
                duration: "20:00",
                cover: "assets/img/music/meditation.jpg",
                description: "è½»éŸ³ä¹ Â· 20åˆ†é’Ÿ"
            }
        ];
        
        let currentTrackIndex = 0;
        
        // åŠ è½½å½“å‰æ›²ç›®ä¿¡æ¯
        function loadTrack(index) {
            const track = playlist[index];
            audioPlayer.src = track.source;
            document.querySelector('.album-cover img').src = track.cover;
            document.querySelector('.player-info h4').textContent = track.title;
            document.querySelector('.audio-description').textContent = track.description;
            totalTimeEl.textContent = track.duration;
            currentTimeEl.textContent = "00:00";
            progressBar.style.width = "0%";
        }
        
        // æ’­æ”¾/æš‚åœæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        playBtn.addEventListener('click', togglePlay);
        playOverlay.addEventListener('click', togglePlay);
        
        // æ”¶è—æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        favoriteBtn.addEventListener('click', function() {
            this.querySelector('i').classList.toggle('fas');
            this.querySelector('i').classList.toggle('far');
        });
        
        // ä¸Šä¸€æ›²æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        prevBtn.addEventListener('click', function() {
            currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
            loadTrack(currentTrackIndex);
            if(isPlaying) {
                audioPlayer.play();
            }
        });
        
        // ä¸‹ä¸€æ›²æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        nextBtn.addEventListener('click', function() {
            currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
            loadTrack(currentTrackIndex);
            if(isPlaying) {
                audioPlayer.play();
            }
        });
        
        function togglePlay() {
            if(!isPlaying) {
                audioPlayer.play();
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                isPlaying = true;
            } else {
                audioPlayer.pause();
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
                isPlaying = false;
            }
        }
        
        // æ›´æ–°è¿›åº¦æ¡å’Œæ—¶é—´æ˜¾ç¤º
        audioPlayer.addEventListener('timeupdate', function() {
            const currentTime = audioPlayer.currentTime;
            const duration = audioPlayer.duration || 1;
            const progressPercent = (currentTime / duration) * 100;
            
            progressBar.style.width = `${progressPercent}%`;
            
            // æ›´æ–°å½“å‰æ—¶é—´æ˜¾ç¤º
            const minutes = Math.floor(currentTime / 60);
            const seconds = Math.floor(currentTime % 60);
            currentTimeEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        });
        
        // å…è®¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»è¿›åº¦æ¡æ¥è·³è½¬
        document.querySelector('.progress-container').addEventListener('click', function(e) {
            const progressBarWidth = this.clientWidth;
            const clickPosition = e.offsetX;
            const jumpToTime = (clickPosition / progressBarWidth) * audioPlayer.duration;
            audioPlayer.currentTime = jumpToTime;
        });
        
        // éŸ³é¢‘æ’­æ”¾ç»“æŸæ—¶
        audioPlayer.addEventListener('ended', function() {
            // è‡ªåŠ¨æ’­æ”¾ä¸‹ä¸€é¦–
            nextBtn.click();
        });
        
        // åˆå§‹åŒ–ç¬¬ä¸€é¦–æ­Œæ›²
        loadTrack(currentTrackIndex);
        
        // å…¨éƒ¨æ ‡è®°å®ŒæˆæŒ‰é’®
        const markAllBtn = document.getElementById('markAllBtn');
        if(markAllBtn) {
            console.log('æ‰¾åˆ°å…¨éƒ¨æ ‡è®°å®ŒæˆæŒ‰é’®');
            markAllBtn.addEventListener('click', function() {
                console.log('æŒ‰é’®è¢«ç‚¹å‡»');
                const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = true;
                });
            });
        } else {
            console.log('æœªæ‰¾åˆ°å…¨éƒ¨æ ‡è®°å®ŒæˆæŒ‰é’®');
        }

        // è·å–å‘¼å¸è®­ç»ƒå…ƒç´ 
        document.addEventListener("DOMContentLoaded", () => {
            const circle = document.getElementById("breathingCircle").querySelector("circle");
            const countdownText = document.getElementById("countdownText");
            const breathingText = document.getElementById("breathingText");
            const startBtn = document.getElementById("startBreathing");
            const stopBtn = document.getElementById("stopBreathing");
            const roundsSelect = document.getElementById("breathingRounds");

            const inhaleDuration = 4;
            const holdDuration = 7;
            const exhaleDuration = 8;

            let interval = null;
            let currentRound = 0;
            let totalRounds = 3;
            let isRunning = false;

            const setCircleSize = (scale) => {
                circle.setAttribute("transform", `scale(${scale}) translate(${50 - 50/scale}, ${50 - 50/scale})`);
            };

            const startBreathingCycle = async () => {
                isRunning = true;
                currentRound = 0;
                totalRounds = parseInt(roundsSelect.value);
                startBtn.disabled = true;
                stopBtn.disabled = false;

                while (isRunning && currentRound < totalRounds) {
                    await runPhase("å¸æ°”", inhaleDuration, 1.0, 1.3);
                    await runPhase("å±æ°”", holdDuration, 1.3, 1.3);
                    await runPhase("å‘¼æ°”", exhaleDuration, 1.3, 1.0);
                    currentRound++;
                }

                breathingText.textContent = "è®­ç»ƒå®Œæˆ";
                countdownText.textContent = "";
                startBtn.disabled = false;
                stopBtn.disabled = true;
                isRunning = false;
            };

            const runPhase = (phaseName, duration, startScale, endScale) => {
                return new Promise((resolve) => {
                    breathingText.textContent = phaseName;
                    let timeLeft = duration;
                    let startTime = performance.now();

                    // è®¾ç½®åŠ¨ç”»
                    const animate = (timestamp) => {
                        if (!isRunning) return resolve();
                        let elapsed = (timestamp - startTime) / 1000;
                        if (elapsed > duration) elapsed = duration;

                        const progress = elapsed / duration;
                        const scale = startScale + (endScale - startScale) * progress;
                        setCircleSize(scale);
                        countdownText.textContent = Math.ceil(duration - elapsed);

                        if (elapsed < duration) {
                            interval = requestAnimationFrame(animate);
                        } else {
                            resolve();
                        }
                    };

                    requestAnimationFrame(animate);
                });
            };

            startBtn.addEventListener("click", () => {
                if (!isRunning) {
                    breathingText.textContent = "å‡†å¤‡ä¸­...";
                    setTimeout(() => {
                        startBreathingCycle();
                    }, 1000);
                }
            });

            stopBtn.addEventListener("click", () => {
                isRunning = false;
                startBtn.disabled = false;
                stopBtn.disabled = true;
                breathingText.textContent = "å·²åœæ­¢";
                countdownText.textContent = "";
            });
        });




        // æ·»åŠ ç¡çœ è®°å½•æŒ‰é’®åŠŸèƒ½
        const sleepRecordBtn = document.getElementById('sleepRecordBtn');
        
        sleepRecordBtn.addEventListener('click', function() {
            // è·å–å½“å‰æ—¶é—´
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const timeString = `${hours}:${minutes}`;
            
            // è®°å½•ç¡çœ æ—¶é—´é€»è¾‘
            console.log(`ç¡çœ æ—¶é—´å·²è®°å½•: ${timeString}`);
            
            // æ˜¾ç¤ºè®°å½•æˆåŠŸçŠ¶æ€
            this.classList.add('recorded');
            
            // æ›´æ”¹æç¤ºæ–‡æœ¬
            const tooltip = this.querySelector('.tooltip');
            tooltip.textContent = `å·²è®°å½•: ${timeString} âœ“`;
            
            // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å‘é€åˆ°æœåŠ¡å™¨çš„ä»£ç 
            
            // 2ç§’åæ¢å¤åŸå§‹æç¤º
            setTimeout(() => {
                tooltip.textContent = 'GOOD NIGHT ğŸŒ™';
                this.classList.remove('recorded');
            }, 2000);
        });
    });
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
    $(document).ready(function(){
        $('#start-practice').click(function(e){
            e.preventDefault(); // é˜»æ­¢é»˜è®¤çš„é“¾æ¥è·³è½¬è¡Œä¸º
    
            // åˆ›å»ºè§†é¢‘æ’­æ”¾å™¨å®¹å™¨
            var videoPlayerContainer = $('<div class="video-player-container">');
            var videoWrapper = $('<div class="video-wrapper">');
            var iframe = $('<iframe id="bilibiliVideo" scrolling="no" border="0" frameborder="no" allowfullscreen="true" style="width:100%;height:100%;position:absolute;top:0;left:0;"></iframe>');
            iframe.attr('src', 'https://player.bilibili.com/player.html?bvid=BV1fS4y117u7');
    
            // åˆ›å»ºè§†é¢‘ä¿¡æ¯éƒ¨åˆ†
            var videoInfo = $('<div class="video-info">');
            var h3 = $('<h3>ç¡å‰æ”¾æ¾å†¥æƒ³</h3>');
            var p = $('<p class="video-description">é€šè¿‡æ¸©å’Œçš„å¼•å¯¼å†¥æƒ³ï¼Œå¸®åŠ©æ‚¨æ”¾æ¾èº«å¿ƒï¼Œä¸ºç¾å¥½çš„ç¡çœ åšå‡†å¤‡ã€‚</p>');
    
            // å°†è§†é¢‘æ’­æ”¾å™¨å’Œä¿¡æ¯æ·»åŠ åˆ°å®¹å™¨ä¸­
            videoWrapper.append(iframe);
            videoInfo.append(h3);
            videoInfo.append(p);
            videoPlayerContainer.append(videoWrapper);
            videoPlayerContainer.append(videoInfo);
    
            // æ›¿æ¢åŸæœ‰æ¨¡å—
            $('#module-card').html(videoPlayerContainer);
        });
    });
    </script>
    
    <script>
    // æ·»åŠ ä¸€ä¸ªç‹¬ç«‹çš„è„šæœ¬ï¼Œç¡®ä¿æŒ‰é’®åŠŸèƒ½æ­£å¸¸å·¥ä½œ
    document.addEventListener('DOMContentLoaded', function() {
        const markAllBtn = document.getElementById('markAllBtn');
        
        if(markAllBtn) {
            markAllBtn.onclick = function() {
                const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = true;
                });
            };
        }
    });
    </script>
    <script>
    // æ›¿æ¢ç°æœ‰çš„å‘¼å¸è®­ç»ƒç›¸å…³JavaScriptï¼Œæ·»åŠ åœ¨é¡µé¢åº•éƒ¨
    (function() {
        // å½“é¡µé¢å®Œå…¨åŠ è½½åæ‰§è¡Œ
        window.addEventListener('load', function() {
            console.log('é¡µé¢å®Œå…¨åŠ è½½ï¼Œå‡†å¤‡åˆå§‹åŒ–å‘¼å¸è®­ç»ƒ');
            
            // è·å–æ‰€æœ‰å¿…è¦å…ƒç´ 
            const startBtn = document.getElementById('startBreathing');
            const stopBtn = document.getElementById('stopBreathing');
            const roundsSelect = document.getElementById('breathingRounds');
            const breathingCircle = document.getElementById('breathingCircle');
            const breathingText = document.getElementById('breathingText');
            const countdownText = document.getElementById('countdownText');
            
            // éªŒè¯å…ƒç´ æ˜¯å¦å­˜åœ¨
            if (!startBtn || !stopBtn || !breathingCircle || !breathingText || !countdownText) {
                console.error('å‘¼å¸è®­ç»ƒå…ƒç´ æœªæ‰¾åˆ°ï¼š', {
                    startBtn, stopBtn, breathingCircle, breathingText, countdownText
                });
                return; // å¦‚æœç¼ºå°‘ä»»ä½•å…ƒç´ ï¼Œåˆ™ç»ˆæ­¢åˆå§‹åŒ–
            }
            
            console.log('å‘¼å¸è®­ç»ƒå…ƒç´ å·²æ‰¾åˆ°ï¼Œæ­£åœ¨è®¾ç½®äº‹ä»¶å¤„ç†');
            
            // çŠ¶æ€å˜é‡
            let isBreathing = false;
            let currentRound = 0;
            let totalRounds = 3;
            let currentCountdownInterval = null;
            
            // ç›´æ¥è®¾ç½®æŒ‰é’®ç‚¹å‡»å¤„ç†å‡½æ•°
            startBtn.onclick = function(e) {
                console.log('å¼€å§‹æŒ‰é’®è¢«ç‚¹å‡»');
                e.preventDefault(); // é˜»æ­¢ä»»ä½•é»˜è®¤è¡Œä¸º
                
                if (isBreathing) return;
                
                isBreathing = true;
                currentRound = 0;
                totalRounds = parseInt(roundsSelect.value);
                
                // æ›´æ–°ç•Œé¢çŠ¶æ€
                startBtn.disabled = true;
                stopBtn.disabled = false;
                roundsSelect.disabled = true;
                
                // å¼€å§‹å‘¼å¸å‘¨æœŸ
                startBreathingCycle();
            };
            
            stopBtn.onclick = function(e) {
                console.log('åœæ­¢æŒ‰é’®è¢«ç‚¹å‡»');
                e.preventDefault();
                stopBreathing();
            };
            
            // å‘¼å¸å‘¨æœŸå‡½æ•°
            function startBreathingCycle() {
                currentRound++;
                console.log(`å¼€å§‹ç¬¬${currentRound}è½®å‘¼å¸`);
                
                if (currentRound > totalRounds) {
                    console.log('å‘¼å¸è®­ç»ƒå®Œæˆ');
                    stopBreathing();
                    breathingText.textContent = "è®­ç»ƒå®Œæˆ!";
                    return;
                }
                
                // å¸æ°”é˜¶æ®µ - 4ç§’
                console.log('å¸æ°”é˜¶æ®µ');
                breathingText.textContent = `ç¬¬${currentRound}è½®: å¸æ°” (4ç§’)`;
                
                // ç›´æ¥æ§åˆ¶æ ·å¼è€Œä¸ä¾èµ–CSSç±»
                breathingCircle.style.transition = 'transform 4s ease';
                breathingCircle.style.transform = 'scale(1.5)';
                
                startCountdown(4, function() {
                    // å±æ¯é˜¶æ®µ - 7ç§’
                    console.log('å±æ¯é˜¶æ®µ');
                    breathingText.textContent = `ç¬¬${currentRound}è½®: å±æ¯ (7ç§’)`;
                    
                    // ä¿æŒå½“å‰å¤§å°
                    breathingCircle.style.transition = 'none';
                    
                    startCountdown(7, function() {
                        // å‘¼æ°”é˜¶æ®µ - 8ç§’
                        console.log('å‘¼æ°”é˜¶æ®µ');
                        breathingText.textContent = `ç¬¬${currentRound}è½®: å‘¼æ°” (8ç§’)`;
                        
                        // ç¼©å°åœ†åœˆ
                        breathingCircle.style.transition = 'transform 8s ease';
                        breathingCircle.style.transform = 'scale(1)';
                        
                        startCountdown(8, function() {
                            startBreathingCycle();
                        });
                    });
                });
            }
            
            // å€’è®¡æ—¶å‡½æ•°
            function startCountdown(seconds, callback) {
                let remainingSeconds = seconds;
                console.log(`å€’è®¡æ—¶å¼€å§‹: ${seconds}ç§’`);
                countdownText.textContent = remainingSeconds;
                
                // æ¸…é™¤å¯èƒ½å­˜åœ¨çš„ä¸Šä¸€ä¸ªè®¡æ—¶å™¨
                if (currentCountdownInterval) {
                    clearInterval(currentCountdownInterval);
                }
                
                currentCountdownInterval = setInterval(function() {
                    remainingSeconds--;
                    
                    if (remainingSeconds <= 0) {
                        clearInterval(currentCountdownInterval);
                        countdownText.textContent = '';
                        console.log('å€’è®¡æ—¶ç»“æŸ');
                        if (callback) callback();
                    } else {
                        countdownText.textContent = remainingSeconds;
                    }
                }, 1000);
            }
            
            // åœæ­¢å‘¼å¸è®­ç»ƒ
            function stopBreathing() {
                console.log('åœæ­¢å‘¼å¸è®­ç»ƒ');
                isBreathing = false;
                
                // æ¸…é™¤å½“å‰å€’è®¡æ—¶
                if (currentCountdownInterval) {
                    clearInterval(currentCountdownInterval);
                    currentCountdownInterval = null;
                }
                
                // é‡ç½®åœ†åœˆå’Œæ–‡æœ¬
                breathingCircle.style.transition = 'transform 0.5s ease';
                breathingCircle.style.transform = 'scale(1)';
                breathingText.textContent = "å‡†å¤‡å¼€å§‹";
                countdownText.textContent = '';
                
                // é‡ç½®æŒ‰é’®çŠ¶æ€
                startBtn.disabled = false;
                stopBtn.disabled = true;
                roundsSelect.disabled = false;
            }
            
            console.log('å‘¼å¸è®­ç»ƒåˆå§‹åŒ–å®Œæˆ');
        });
    })();
    </script>
</body>
</html>