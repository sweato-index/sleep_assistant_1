<!doctype html>
<html class="no-js" lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>ç¡çœ åŠ©æ‰‹ - ç¡å‰æ”¾æ¾è®­ç»ƒ</title>
    <meta name="description" content="é€šè¿‡ç‘œä¼½è§†é¢‘ï¼Œå¸®åŠ©ç”¨æˆ·æ”¾æ¾èº«å¿ƒï¼Œæ”¹å–„ç¡çœ è´¨é‡">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicon.png">

    <!-- CSS here -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css">
    <link rel="stylesheet" href="assets/flat-icon/flaticon.css">
    <link rel="stylesheet" href="assets/css/meanmenu.css">
    <link rel="stylesheet" href="assets/css/slick.css">
    <link rel="stylesheet" href="assets/css/aos.css">
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/magnific-popup.css">
    <link rel="stylesheet" href="assets/css/default.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/responsive.css">
</head>
<body>
    <!-- preloader -->
    <div id="loading">
        <div id="loading-center">
            <div id="loading-center-absolute">
                <div class="object" id="object_one"></div>
                <div class="object" id="object_two"></div>
                <div class="object" id="object_three"></div>
                <div class="object" id="object_four"></div>
            </div>
        </div>
    </div>
    <!-- preloader end -->

    <!-- ============= header-area-start ==================== -->
    <header class="header-transfrent">
        <div class="header-area">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-xl-1 col-lg-1">
                        <div class="logo-area">
                            <a href="index.html"><img src="assets/img/logo.png" alt=""></a>
                        </div>
                    </div>
                    <div class="col-xl-8 col-lg-8">
                        <div class="main-menu">
                            <nav id="mobile-menu">
                                <ul>
                                    <li><a href="index.html">é¦–é¡µ</a></li>
                                    <li><a href="science.html">ç¡çœ çŸ¥è¯†ä¸­å¿ƒ</a></li>
                                    <li><a href="tracker.html">ç¡çœ è®°å½•ä¸åˆ†æ</a></li>
                                    <li><a href="assessment.html">ç¡çœ è¯„ä¼°ä¸­å¿ƒ</a></li>
                                    <li><a href="advice.html">ç¡çœ åŠ©æ‰‹</a></li>
                                    <li><a href="profile.html">ç”¨æˆ·ä¸­å¿ƒ</a></li>
                                    <li><a href="community.html">ç¡çœ ç¤¾åŒº</a></li>
                                </ul>
                            </nav>
                        </div>
                        <div class="mobile-menu"></div>
                    </div>
                    <div class="col-xl-3 col-lg-3 d-none d-lg-block">
                        <div class="header-action-button f-right">
                            <a href="#signinModal" data-toggle="modal" class="btn header-btn login active-btn">ç™»å½•</a>
                            <a href="#signupModal" data-toggle="modal" class="btn header-btn">æ³¨å†Œ</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- ============= header-area-end ====================== -->

    <!-- ============== main-content-start ============== -->
    <div class="main-content">
        <div class="content-wrapper">
            <div class="row">
                <!-- å·¦ä¾§è§†é¢‘æ’­æ”¾å™¨ -->
                <div class="col-lg-6">
                    <div class="video-player-container">
                        <div class="video-wrapper">
                            <video id="sleepVideo" class="main-video" controls>
                                <source src="assets/videos/sleep-meditation.mp4" type="video/mp4">
                                æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾ã€‚
                            </video>
                        </div>
                        <div class="video-info">
                            <h3>ç¡å‰æ”¾æ¾å†¥æƒ³</h3>
                            <p class="video-description">é€šè¿‡æ¸©å’Œçš„å¼•å¯¼å†¥æƒ³ï¼Œå¸®åŠ©æ‚¨æ”¾æ¾èº«å¿ƒï¼Œä¸ºç¾å¥½çš„ç¡çœ åšå‡†å¤‡ã€‚</p>
                        </div>
                    </div>
                </div>
                <!-- å³ä¾§å…¶ä»–å†…å®¹ -->
                <div class="col-lg-6">
                    <!-- åŸæœ‰å†…å®¹æ”¾åœ¨è¿™é‡Œ -->
                </div>
            </div>
        </div>
    </div>

    <!-- Add new CSS -->
    <style>
    /* å…¨å±€èƒŒæ™¯è®¾ç½® */
    body {
        background: url('assets/img/forestbackground.jpg') no-repeat center center fixed;
        background-size: cover;
        min-height: 100vh;
        font-family: 'Noto Sans SC', sans-serif;
    }

    /* ä¸»å†…å®¹åŒºåŸŸæ ·å¼ */
    .main-content {
        padding: 40px 0;
        min-height: 100vh;
        background: rgba(57, 90, 92, 0.3);
        backdrop-filter: blur(10px);
    }

    /* å†…å®¹å®¹å™¨æ ·å¼ */
    .content-wrapper {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        max-width: 1400px;
        margin: 0 auto;
    }

    .header-controls {
        display: flex;
        gap: 15px;
    }

    /* æ¨¡å—å¡ç‰‡é€šç”¨æ ·å¼ */
    .module-card {
        background: rgba(255, 255, 255, 0.3);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        height: 100%;
        transition: transform 0.3s ease;
    }

    .module-card:hover {
        transform: translateY(-3px);
    }

    @keyframes move {
        50% {
            padding-left: 8px;
            padding-right: 0px;
        }

        100% {
            padding-right: 4px;
        }
    }

    @keyframes slice {
        60% {
            width: 100%;
            left: 4px;
        }

        100% {
            width: 100%;
            left: -2px;
            padding-left: 0;
        }
    }

    @keyframes check-01 {
        0% {
            width: 4px;
            top: auto;
            transform: rotate(0);
        }

        50% {
            width: 0px;
            top: auto;
            transform: rotate(0);
        }

        51% {
            width: 0px;
            top: 8px;
            transform: rotate(45deg);
        }

        100% {
            width: 5px;
            top: 8px;
            transform: rotate(45deg);
        }
    }

    @keyframes check-02 {
        0% {
            width: 4px;
            top: auto;
            transform: rotate(0);
        }

        50% {
            width: 0px;
            top: auto;
            transform: rotate(0);
        }

        51% {
            width: 0px;
            top: 8px;
            transform: rotate(-45deg);
        }

        100% {
            width: 10px;
            top: 8px;
            transform: rotate(-45deg);
        }
    }

    @keyframes firework {
        0% {
            opacity: 1;
            box-shadow: 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0, 0 0 0 -2px #4f29f0;
        }

        30% {
            opacity: 1;
        }

        100% {
            opacity: 0;
            box-shadow: 0 -15px 0 0px #4f29f0, 14px -8px 0 0px #4f29f0, 14px 8px 0 0px #4f29f0, 0 15px 0 0px #4f29f0, -14px 8px 0 0px #4f29f0, -14px -8px 0 0px #4f29f0;
        }
    }

    /* ä¼˜åŒ–æŒ‰é’®æ ·å¼ï¼ŒåŒ¹é…å¤é€‰æ¡†ä¸»é¢˜ */
    .btn-soft {
        background: #4f29f0;
        color: white;
        border: none;
        padding: 8px 20px;
        border-radius: 20px;
        transition: all 0.3s ease;
        font-weight: 500;
    }

    .btn-soft:hover {
        background: #3a1eb0;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(79, 41, 240, 0.3);
    }

    .btn-soft.btn-outline {
        background: transparent;
        color: #4f29f0;
        border: 1px solid #4f29f0;
    }

    .btn-soft.btn-outline:hover {
        background: rgba(79, 41, 240, 0.1);
    }

    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 768px) {
        .content-wrapper {
            margin: 15px;
            padding: 15px;
        }
        
        .module-card {
            margin-bottom: 20px;
        }
    }

    /* è§†é¢‘æ’­æ”¾å™¨æ ·å¼ */
    .video-player-container {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        overflow: hidden;
        margin-bottom: 20px;
    }

    .video-wrapper {
        position: relative;
        width: 100%;
        padding-top: 56.25%; /* 16:9 å®½é«˜æ¯” */
        background: #000;
    }

    .main-video {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .video-info {
        padding: 20px;
    }

    .video-info h3 {
        color: #333;
        font-size: 1.5rem;
        margin-bottom: 10px;
    }

    .video-description {
        color: #666;
        font-size: 0.9rem;
        line-height: 1.5;
        margin-bottom: 0;
    }

    /* å“åº”å¼è°ƒæ•´ */
    @media (max-width: 991px) {
        .video-player-container {
            margin-bottom: 30px;
        }
    }
    </style>

    <!-- JS here -->
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/jquery.meanmenu.js"></script>
    <script src="assets/js/slick.min.js"></script>
    <script src="assets/js/aos.js"></script>
    <script src="assets/js/jquery.counterup.min.js"></script>
    <script src="assets/js/isotope.pkgd.min.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/jquery.magnific-popup.min.js"></script>
    <script src="assets/js/waypoints.min.js"></script>
    <script src="assets/js/plugins.js"></script>
    <script src="assets/js/velocity.min.js"></script>
    <script src="assets/js/velocity.ui.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const playBtn = document.getElementById('playBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const favoriteBtn = document.getElementById('favoriteBtn');
        const playOverlay = document.getElementById('playOverlay');
        const progressBar = document.getElementById('audioProgress');
        const currentTimeEl = document.getElementById('currentTime');
        const totalTimeEl = document.getElementById('totalTime');
        
        let isPlaying = false;
        
        // æ’­æ”¾/æš‚åœæŒ‰é’®ç‚¹å‡»äº‹ä»¶
        playBtn.addEventListener('click', togglePlay);
        playOverlay.addEventListener('click', togglePlay);
        
        // æ”¶è—æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        favoriteBtn.addEventListener('click', function() {
            this.querySelector('i').classList.toggle('fas');
            this.querySelector('i').classList.toggle('far');
        });
        
        // æ¨¡æ‹Ÿè¿›åº¦æ›´æ–°
        let progressInterval;
        
        function togglePlay() {
            isPlaying = !isPlaying;
            
            if(isPlaying) {
                playBtn.innerHTML = '<i class="fas fa-pause"></i>';
                startProgressSimulation();
            } else {
                playBtn.innerHTML = '<i class="fas fa-play"></i>';
                clearInterval(progressInterval);
            }
        }
        
        function startProgressSimulation() {
            let progress = 0;
            progressInterval = setInterval(() => {
                progress += 0.5;
                if(progress > 100) {
                    clearInterval(progressInterval);
                    isPlaying = false;
                    playBtn.innerHTML = '<i class="fas fa-play"></i>';
                    return;
                }
                
                progressBar.style.width = `${progress}%`;
                
                // æ›´æ–°æ—¶é—´æ˜¾ç¤º
                const currentSeconds = Math.floor(progress * 30 * 60 / 100);
                const minutes = Math.floor(currentSeconds / 60);
                const seconds = currentSeconds % 60;
                currentTimeEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 500);
        }

        // å…¨éƒ¨æ ‡è®°å®ŒæˆæŒ‰é’®
        const markAllBtn = document.getElementById('markAllBtn');
        if(markAllBtn) {
            markAllBtn.addEventListener('click', function() {
                const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
                checkboxes.forEach(checkbox => {
                    checkbox.checked = true;
                });
            });
        }

        // è·å–å‘¼å¸è®­ç»ƒå…ƒç´ 
        const startBtn = document.getElementById('startBreathing');
        const stopBtn = document.getElementById('stopBreathing');
        const roundsSelect = document.getElementById('breathingRounds');
        const breathingCircle = document.getElementById('breathingCircle');
        const breathingText = document.getElementById('breathingText');
        
        let isBreathing = false;
        let currentRound = 0;
        let totalRounds = 3; // é»˜è®¤3è½®
        
        // å¯åŠ¨å‘¼å¸è®­ç»ƒ
        startBtn.addEventListener('click', function() {
            if (isBreathing) return;
            
            isBreathing = true;
            currentRound = 0;
            totalRounds = parseInt(roundsSelect.value);
            
            // æ›´æ–°UIçŠ¶æ€
            startBtn.disabled = true;
            stopBtn.disabled = false;
            roundsSelect.disabled = true;
            
            // é‡ç½®åœ†åœˆçŠ¶æ€ä»¥ç¡®ä¿åŠ¨ç”»æ­£å¸¸å·¥ä½œ
            breathingCircle.style.animation = 'none';
            breathingCircle.offsetHeight; // è§¦å‘é‡æ’
            breathingCircle.style.animation = null;
            
            startBreathingCycle();
        });
        
        // åœæ­¢å‘¼å¸è®­ç»ƒ
        stopBtn.addEventListener('click', function() {
            stopBreathing();
        });
        
        function startBreathingCycle() {
            currentRound++;
            
            if (currentRound > totalRounds) {
                stopBreathing();
                breathingText.textContent = "è®­ç»ƒå®Œæˆ!";
                return;
            }
            
            // å¸æ°”é˜¶æ®µ - 4ç§’
            breathingText.textContent = `ç¬¬${currentRound}è½®: å¸æ°” (4ç§’)`;
            breathingCircle.className = 'breathing-circle'; // æ¸…é™¤ä¹‹å‰çš„ç±»
            void breathingCircle.offsetWidth; // è§¦å‘é‡æ’ï¼Œé‡ç½®åŠ¨ç”»
            breathingCircle.className = 'breathing-circle inhale';
            
            setTimeout(() => {
                // å±æ¯é˜¶æ®µ - 7ç§’
                breathingText.textContent = `ç¬¬${currentRound}è½®: å±æ¯ (7ç§’)`;
                breathingCircle.className = 'breathing-circle'; // æ¸…é™¤ä¹‹å‰çš„ç±»
                void breathingCircle.offsetWidth; // è§¦å‘é‡æ’ï¼Œé‡ç½®åŠ¨ç”»
                breathingCircle.className = 'breathing-circle hold';
                
                setTimeout(() => {
                    // å‘¼æ°”é˜¶æ®µ - 8ç§’
                    breathingText.textContent = `ç¬¬${currentRound}è½®: å‘¼æ°” (8ç§’)`;
                    breathingCircle.className = 'breathing-circle'; // æ¸…é™¤ä¹‹å‰çš„ç±»
                    void breathingCircle.offsetWidth; // è§¦å‘é‡æ’ï¼Œé‡ç½®åŠ¨ç”»
                    breathingCircle.className = 'breathing-circle exhale';
                    
                    setTimeout(() => {
                        startBreathingCycle();
                    }, 8000);
                }, 7000);
            }, 4000);
        }
        
        function stopBreathing() {
            isBreathing = false;
            
            // é‡ç½®åŠ¨ç”»å’Œæ–‡æœ¬
            breathingCircle.className = 'breathing-circle';
            breathingCircle.style.transform = 'scale(1)'; // ç¡®ä¿å›åˆ°åˆå§‹å¤§å°
            breathingText.textContent = "å‡†å¤‡å¼€å§‹";
            
            // é‡ç½®æ§åˆ¶å™¨çŠ¶æ€
            startBtn.disabled = false;
            stopBtn.disabled = true;
            roundsSelect.disabled = false;
        }

        // æ·»åŠ ç¡çœ è®°å½•æŒ‰é’®åŠŸèƒ½
        const sleepRecordBtn = document.getElementById('sleepRecordBtn');
        
        sleepRecordBtn.addEventListener('click', function() {
            // è·å–å½“å‰æ—¶é—´
            const now = new Date();
            const hours = now.getHours().toString().padStart(2, '0');
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const timeString = `${hours}:${minutes}`;
            
            // è®°å½•ç¡çœ æ—¶é—´é€»è¾‘
            console.log(`ç¡çœ æ—¶é—´å·²è®°å½•: ${timeString}`);
            
            // æ˜¾ç¤ºè®°å½•æˆåŠŸçŠ¶æ€
            this.classList.add('recorded');
            
            // æ›´æ”¹æç¤ºæ–‡æœ¬
            const tooltip = this.querySelector('.tooltip');
            tooltip.textContent = `å·²è®°å½•: ${timeString} âœ“`;
            
            // å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ å‘é€åˆ°æœåŠ¡å™¨çš„ä»£ç 
            
            // 2ç§’åæ¢å¤åŸå§‹æç¤º
            setTimeout(() => {
                tooltip.textContent = 'GOOD NIGHT ğŸŒ™';
                this.classList.remove('recorded');
            }, 2000);
        });
    });
    </script>
</body>
</html>
